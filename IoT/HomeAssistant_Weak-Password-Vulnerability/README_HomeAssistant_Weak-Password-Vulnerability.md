# Activité : Mot de Passe Faible sur Home Assistant

## Introduction
Les objets connectés font partie de notre quotidien, mais leur sécurité est souvent négligée. Les mots de passe faibles représentent une faille majeure qui peut permettre à des attaquants de prendre le contrôle de vos systèmes connectés. Cette activité vous permettra de comprendre ces vulnérabilités, d’utiliser des outils professionnels, et d’apprendre à mieux vous protéger.

---

## Qu’est-ce qu’un serveur Home Assistant ?
- **Centre de contrôle d’une maison connectée**
- Compatible avec de multiples protocoles IoT : WiFi, Zigbee, etc.
- Interface personnalisable pour les besoins de l’utilisateur

### Quelques cas d’usage :
- Gestion de l’éclairage
- Régulation du chauffage
- Automatisation des volets roulants
- Surveillance et sécurité de l’habitat
- Automatisation de scènes quotidiennes :
  - Gestion des électro-ménagers
  - Gestion des listes de courses
  - Et bien d’autres !

### Pourquoi protéger son Home Assistant ?
Un attaquant qui accède à un serveur Home Assistant peut :
- Désactiver vos systèmes de sécurité (alarmes, caméras)
- Manipuler vos équipements connectés (chauffage, lumière)
- Surveiller votre domicile (caméras, capteurs)
- Accéder à des informations sensibles sur votre réseau.

---

## Qu’est-ce qu’un mot de passe faible ?
### Caractéristiques :
- Trop court : moins de 12 caractères
- Manque de diversité de caractères : uniquement des majuscules ou des minuscules
- Des mots courants : “password”, “123456”, “abc123”
- Des informations personnelles : “nom_du_chien” + “année_naissance”
- Réutilisation d’un même mot de passe pour plusieurs comptes

### Risques liés aux mots de passe faibles :
- Accès non autorisé à vos comptes personnels
- Usurpation de votre identité
- Violation de votre vie privée

### Exemples de mots de passe faibles courants :
- `123456`
- `password`
- `admin`
- `qwerty`
- `monprenom2024`

---

## Qu’est-ce qu’une attaque par Brute Force ?
- **Définition** : Tester toutes les combinaisons possibles d’un mot de passe
- **Méthode** :
  - Automatisation des tentatives à l'aide d'outils spécifiques
  - Probabilité de succès dépendante de la force du mot de passe

### Exemple d’outil : **Burpsuite**
- Analyse des applications Web
- Identification des vulnérabilités
- Interception des requêtes HTTP
- Modification manuelle des requêtes
- Repetition des requêtes pour tester différentes hypothèses

---

## Votre mission si vous l’acceptez :
### Découvrir le mot de passe du serveur Home Assistant !
Un mot de passe faible a été configuré sur le serveur. Votre objectif est de le trouver en simulant une attaque par Brute Force grâce à Burpsuite.

---

## Étapes de l’activité

### Étape 1 : Ouvrir l’application Burpsuite
1. Sélectionnez « Temporary Project in memory »
2. Sélectionnez « Use Burp defaults »
3. Cliquez sur « Start Burp »

---

### Étape 2 : Accéder au serveur Home Assistant
1. Ouvrez le menu « Proxy » dans Burpsuite
2. Cliquez sur « Open browser »
3. Dans la barre de recherche, entrez l’adresse IP du serveur : `http://@IP:8123`

---

### Étape 3 : Intercepter une requête de connexion
1. Nom d’utilisateur : `wocsa`
2. Mot de passe : `????????`
3. Dans Burpsuite, activez « Intercept »
4. Retournez dans le navigateur et tentez un mot de passe aléatoire, ex. : `toto`
5. Observez la requête de connexion interceptée.

---

### Étape 4 : Préparer l’attaque Brute Force
1. Dans Burpsuite, clic droit sur la requête interceptée et sélectionnez « Send to Intruder »
2. Rendez-vous dans le menu « Intruder »
3. Remplacez le mot de passe aléatoire par `$$`
4. Dans « Payload Settings », sélectionnez le fichier `Weak_Password_List.txt` (sur votre bureau).

---

### Étape 5 : Lancer l’attaque
1. Retournez dans le menu « Positions »
2. Lancez l’attaque en appuyant sur le bouton approprié
3. Ignorez l’alerte et observez les mots de passe testés un à un
4. Notez le mot de passe qui affiche :
   - **Status Code** = 200
   - **Length** = 407

---

### Étape 6 : Valider votre succès
1. Désactivez l’interception dans Burpsuite
2. Reconnectez-vous au serveur avec le mot de passe trouvé
3. Félicitations, vous avez piraté votre premier serveur Home Assistant !

---

## Bilan de l’activité
### Comment se protéger d’une attaque par Brute Force ?
1. **Utiliser des mots de passe forts** :
   - Combinaison de majuscules, minuscules, chiffres et caractères spéciaux.
   - Exemple : `ReeX4eyH3dJq&Cv8t$QDNvqN%AxUIx^U`
2. **Utiliser un gestionnaire de mots de passe** :
   - La mémoire humaine est limitée !
   - Exemples de solutions : Bitwarden (gratuit et payant).
3. **Activer l’authentification multi-facteurs (MFA)** :
   - Codes temporaires sur smartphone
   - Clés d’authentification matérielles, etc.
4. **Changer régulièrement vos mots de passe**.
5. **Surveiller les journaux d’accès** :
   - Identifier les comportements suspects.

---

## Ressources utiles
- [Documentation officielle de Home Assistant](https://www.home-assistant.io/)
- [Burpsuite : Guide de démarrage](https://portswigger.net/burp/documentation)
- [Créer un mot de passe sécurisé](https://www.ncsc.gov.uk/collection/passwords)

---

## Éthique et sécurité
Cette activité est purement pédagogique. L’utilisation de ces outils doit se faire dans un cadre légal et éthique. Ne testez jamais la sécurité d’un système sans autorisation explicite.

---

## Des questions ? Des remarques ?
Discutons-en !
